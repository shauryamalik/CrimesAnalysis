<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Transformation | Crime Analysis</title>
  <meta name="description" content="Chapter 3 Data Transformation | Crime Analysis" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Transformation | Crime Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Transformation | Crime Analysis" />
  
  
  

<meta name="author" content="Shaurya Malik (sm4969), Rahul Agarwal (ra3097), Keertan Krishnan (kk3446)" />


<meta name="date" content="2021-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Crime Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i><b>1.1</b> About</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#other-references"><i class="fa fa-check"></i><b>1.2</b> Other references</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#link-between-data-and-questions"><i class="fa fa-check"></i><b>1.3</b> Link between data and questions:</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data Sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#nypd-arrest-data"><i class="fa fa-check"></i><b>2.1</b> NYPD Arrest Data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#nypd-hate-crimes"><i class="fa fa-check"></i><b>2.2</b> NYPD Hate Crimes</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#nyc-population-data"><i class="fa fa-check"></i><b>2.3</b> NYC Population Data</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-sources.html"><a href="data-sources.html#new-york-city-population-by-neighborhood"><i class="fa fa-check"></i><b>2.3.1</b> New York City Population By Neighborhood</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-sources.html"><a href="data-sources.html#projected-population-per-age-group"><i class="fa fa-check"></i><b>2.3.2</b> Projected population per age group</a></li>
<li class="chapter" data-level="2.3.3" data-path="data-sources.html"><a href="data-sources.html#initial-questions"><i class="fa fa-check"></i><b>2.3.3</b> Initial Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#nyc-shooting-data"><i class="fa fa-check"></i><b>2.4</b> NYC Shooting Data</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-sources.html"><a href="data-sources.html#nypd-shooting-incident-data-year-to-date"><i class="fa fa-check"></i><b>2.4.1</b> NYPD Shooting Incident Data (Year To Date)</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-sources.html"><a href="data-sources.html#nypd-shooting-incident-historic-data"><i class="fa fa-check"></i><b>2.4.2</b> NYPD Shooting Incident Historic Data</a></li>
<li class="chapter" data-level="2.4.3" data-path="data-sources.html"><a href="data-sources.html#initial-questions-1"><i class="fa fa-check"></i><b>2.4.3</b> Initial Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-sources.html"><a href="data-sources.html#fbi-human-trafficking-data"><i class="fa fa-check"></i><b>2.5</b> FBI Human Trafficking Data</a></li>
<li class="chapter" data-level="2.6" data-path="data-sources.html"><a href="data-sources.html#fbi-drug-arrests-data"><i class="fa fa-check"></i><b>2.6</b> FBI Drug Arrests Data</a></li>
<li class="chapter" data-level="2.7" data-path="data-sources.html"><a href="data-sources.html#nyc-citizen-census-data"><i class="fa fa-check"></i><b>2.7</b> NYC citizen Census Data</a></li>
<li class="chapter" data-level="2.8" data-path="data-sources.html"><a href="data-sources.html#nyc-park-crime-data"><i class="fa fa-check"></i><b>2.8</b> NYC park crime data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data Transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#nypd-arrests"><i class="fa fa-check"></i><b>3.1</b> NYPD Arrests</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#human-trafficking"><i class="fa fa-check"></i><b>3.2</b> Human Trafficking</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#new-york-city-population"><i class="fa fa-check"></i><b>3.3</b> New York City Population</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#shootings-in-nyc"><i class="fa fa-check"></i><b>3.4</b> Shootings in NYC</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-transformation.html"><a href="data-transformation.html#pre-processing-data"><i class="fa fa-check"></i><b>3.4.1</b> Pre-processing Data</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-transformation.html"><a href="data-transformation.html#feature-engineering"><i class="fa fa-check"></i><b>3.4.2</b> Feature Engineering</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#park-crime-data"><i class="fa fa-check"></i><b>3.5</b> Park Crime Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#human-trafficking-1"><i class="fa fa-check"></i><b>4.1</b> Human Trafficking</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#new-york-city-population-1"><i class="fa fa-check"></i><b>4.2</b> New York City Population</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#arrests-data"><i class="fa fa-check"></i><b>4.3</b> Arrests Data</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#shootings-in-nyc-1"><i class="fa fa-check"></i><b>4.4</b> Shootings in NYC</a></li>
<li class="chapter" data-level="4.5" data-path="missing-values.html"><a href="missing-values.html#fbi-drug-arrests-data-1"><i class="fa fa-check"></i><b>4.5</b> FBI Drug Arrests Data</a></li>
<li class="chapter" data-level="4.6" data-path="missing-values.html"><a href="missing-values.html#hate-crimes"><i class="fa fa-check"></i><b>4.6</b> Hate Crimes</a></li>
<li class="chapter" data-level="4.7" data-path="missing-values.html"><a href="missing-values.html#park-crime"><i class="fa fa-check"></i><b>4.7</b> Park Crime</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#shootings-in-nyc-2"><i class="fa fa-check"></i><b>5.1</b> Shootings in NYC</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#monthly-trend-in-number-of-shootings"><i class="fa fa-check"></i><b>5.1.1</b> Monthly Trend in number of shootings</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#weekly-trend-in-number-of-shooting"><i class="fa fa-check"></i><b>5.1.2</b> Weekly Trend in number of shooting</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#trend-in-number-of-deaths"><i class="fa fa-check"></i><b>5.1.3</b> Trend in number of deaths</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#susciptible-groups"><i class="fa fa-check"></i><b>5.1.4</b> Susciptible groups</a></li>
<li class="chapter" data-level="5.1.5" data-path="results.html"><a href="results.html#victims-by-gender"><i class="fa fa-check"></i><b>5.1.5</b> Victims by Gender</a></li>
<li class="chapter" data-level="5.1.6" data-path="results.html"><a href="results.html#hot-spot-neighbourhoodsareas"><i class="fa fa-check"></i><b>5.1.6</b> Hot-spot neighbourhoods/AREAS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#human-trafficking-2"><i class="fa fa-check"></i><b>5.2</b> Human Trafficking</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#data-by-state"><i class="fa fa-check"></i><b>5.2.1</b> Data By State</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#nypd-arrests-1"><i class="fa fa-check"></i><b>5.3</b> NYPD Arrests</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#most-common-arrest-offenses"><i class="fa fa-check"></i><b>5.3.1</b> Most Common Arrest Offenses</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#assault-offenses-by-borough"><i class="fa fa-check"></i><b>5.3.2</b> Assault Offenses by Borough</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#offenses-by-borough-and-age-group"><i class="fa fa-check"></i><b>5.3.3</b> Offenses by Borough and Age Group</a></li>
<li class="chapter" data-level="5.3.4" data-path="results.html"><a href="results.html#identifying-race-of-perpetrators-by-borough"><i class="fa fa-check"></i><b>5.3.4</b> Identifying race of perpetrators by Borough</a></li>
<li class="chapter" data-level="5.3.5" data-path="results.html"><a href="results.html#drugs-based-crimes-in-nyc"><i class="fa fa-check"></i><b>5.3.5</b> Drugs based crimes in NYC</a></li>
<li class="chapter" data-level="5.3.6" data-path="results.html"><a href="results.html#sexual-crimes"><i class="fa fa-check"></i><b>5.3.6</b> Sexual Crimes</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#hate-crimes-1"><i class="fa fa-check"></i><b>5.4</b> Hate Crimes</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#drugs"><i class="fa fa-check"></i><b>5.5</b> Drugs</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="results.html"><a href="results.html#arrests-related-to-all-drugs-throughout-us"><i class="fa fa-check"></i><b>5.5.1</b> Arrests related to all drugs throughout US</a></li>
<li class="chapter" data-level="5.5.2" data-path="results.html"><a href="results.html#arrests-related-to-manufacture-and-possession"><i class="fa fa-check"></i><b>5.5.2</b> Arrests related to manufacture and possession</a></li>
<li class="chapter" data-level="5.5.3" data-path="results.html"><a href="results.html#arrests-related-to-manufacturing"><i class="fa fa-check"></i><b>5.5.3</b> Arrests related to Manufacturing</a></li>
<li class="chapter" data-level="5.5.4" data-path="results.html"><a href="results.html#arrests-related-to-possession"><i class="fa fa-check"></i><b>5.5.4</b> Arrests related to Possession</a></li>
<li class="chapter" data-level="5.5.5" data-path="results.html"><a href="results.html#arrests-as-a-proportion-of-population"><i class="fa fa-check"></i><b>5.5.5</b> Arrests as a proportion of population</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="results.html"><a href="results.html#park-crime-data-1"><i class="fa fa-check"></i><b>5.6</b> Park Crime Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#distribution-of-crime-across-boroughs"><i class="fa fa-check"></i><b>6.1</b> Distribution of crime across Boroughs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data Transformation</h1>
<div id="nypd-arrests" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> NYPD Arrests</h2>
<p>In order to use arrest dates information, we are converting this feature to Date format.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-transformation.html#cb11-1" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_DATE <span class="ot">&lt;-</span><span class="fu">as.Date</span>(df_arrest_ytd<span class="sc">$</span>ARREST_DATE, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)</span></code></pre></div>
<p>As per this mapping given by NYPD - B(Bronx), S(Staten Island), K(Brooklyn), M(Manhattan), Q(Queens) - we are updating the borough names for a clearer understanding.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-transformation.html#cb12-1" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_BORO[df_arrest_ytd<span class="sc">$</span>ARREST_BORO <span class="sc">==</span> <span class="st">&quot;B&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Bronx&quot;</span></span>
<span id="cb12-2"><a href="data-transformation.html#cb12-2" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_BORO[df_arrest_ytd<span class="sc">$</span>ARREST_BORO <span class="sc">==</span> <span class="st">&quot;S&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Staten Island&quot;</span></span>
<span id="cb12-3"><a href="data-transformation.html#cb12-3" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_BORO[df_arrest_ytd<span class="sc">$</span>ARREST_BORO <span class="sc">==</span> <span class="st">&quot;K&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Brooklyn&quot;</span></span>
<span id="cb12-4"><a href="data-transformation.html#cb12-4" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_BORO[df_arrest_ytd<span class="sc">$</span>ARREST_BORO <span class="sc">==</span> <span class="st">&quot;M&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Manhattan&quot;</span></span>
<span id="cb12-5"><a href="data-transformation.html#cb12-5" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>ARREST_BORO[df_arrest_ytd<span class="sc">$</span>ARREST_BORO <span class="sc">==</span> <span class="st">&quot;Q&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Queens&quot;</span></span></code></pre></div>
<p>This data also contains certain duplicate offenses which are categorized separately.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-transformation.html#cb13-1" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>OFNS_DESC[df_arrest_ytd<span class="sc">$</span>OFNS_DESC <span class="sc">==</span> <span class="st">&quot;KIDNAPPING AND RELATED OFFENSES&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;KIDNAPPING &amp; RELATED OFFENSES&quot;</span></span>
<span id="cb13-2"><a href="data-transformation.html#cb13-2" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>OFNS_DESC[df_arrest_ytd<span class="sc">$</span>OFNS_DESC <span class="sc">==</span> <span class="st">&quot;KIDNAPPING&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;KIDNAPPING &amp; RELATED OFFENSES&quot;</span></span>
<span id="cb13-3"><a href="data-transformation.html#cb13-3" aria-hidden="true" tabindex="-1"></a>df_arrest_ytd<span class="sc">$</span>OFNS_DESC[df_arrest_ytd<span class="sc">$</span>OFNS_DESC <span class="sc">==</span> <span class="st">&quot;ADMINISTRATIVE CODES&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;ADMINISTRATIVE CODE&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-transformation.html#cb14-1" aria-hidden="true" tabindex="-1"></a>arrests_loc_boro <span class="ot">&lt;-</span> df_arrest_ytd <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="data-transformation.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>OFNS_DESC <span class="sc">%in%</span> <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="data-transformation.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC, ARREST_BORO, Latitude, Longitude) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="data-transformation.html#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total =</span> <span class="fu">n</span>())</span>
<span id="cb14-5"><a href="data-transformation.html#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="data-transformation.html#cb14-6" aria-hidden="true" tabindex="-1"></a>arrests_boro <span class="ot">&lt;-</span> df_arrest_ytd <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="data-transformation.html#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>OFNS_DESC <span class="sc">%in%</span> <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="data-transformation.html#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC, ARREST_BORO) <span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="data-transformation.html#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total =</span> <span class="fu">n</span>())</span>
<span id="cb14-10"><a href="data-transformation.html#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="data-transformation.html#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(arrests_boro, <span class="st">&#39;./datasets/filtered/arrests_by_offenses_and_borough.csv&#39;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Here to create a filtered dataset for interactive component we have identified summary information for offenses committed in each Borough. This data was also unstacked to achieve the current version of data.</p>
</div>
<div id="human-trafficking" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Human Trafficking</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-transformation.html#cb15-1" aria-hidden="true" tabindex="-1"></a>df_fbi_ht_by_states <span class="ot">&lt;-</span> df_fbi_ht <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="data-transformation.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATE_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="data-transformation.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total =</span> <span class="fu">n</span>())</span>
<span id="cb15-4"><a href="data-transformation.html#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="data-transformation.html#cb15-5" aria-hidden="true" tabindex="-1"></a>new_info <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;District of Columbia&quot;</span>, <span class="st">&quot;Pennsylvania&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Alabama&quot;</span>,<span class="st">&quot;Iowa&quot;</span>),  </span>
<span id="cb15-6"><a href="data-transformation.html#cb15-6" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))  </span>
<span id="cb15-7"><a href="data-transformation.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(new_info) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;STATE_NAME&quot;</span>, <span class="st">&quot;Total&quot;</span>)</span>
<span id="cb15-8"><a href="data-transformation.html#cb15-8" aria-hidden="true" tabindex="-1"></a>df_fbi_ht_by_states <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_fbi_ht_by_states, new_info)</span></code></pre></div>
</div>
<div id="new-york-city-population" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> New York City Population</h2>
<p>Since we intend to use this data to calculate the percentage of people being shot in each borough based on the boroughâ€™s population, we will filter only the years for which we have corresponding shooting data.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-transformation.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_population_yearly<span class="sc">$</span>Year)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-transformation.html#cb18-1" aria-hidden="true" tabindex="-1"></a>df_population_2010<span class="ot">&lt;-</span>df_population_yearly <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="data-transformation.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year<span class="sc">==</span><span class="dv">2010</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="data-transformation.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Borough) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="data-transformation.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">population=</span><span class="fu">sum</span>(Population))</span>
<span id="cb18-5"><a href="data-transformation.html#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="data-transformation.html#cb18-6" aria-hidden="true" tabindex="-1"></a>df_population_2020<span class="ot">&lt;-</span>df_population_age <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="data-transformation.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Borough, Age, <span class="st">&quot;2020&quot;</span>)</span></code></pre></div>
</div>
<div id="shootings-in-nyc" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Shootings in NYC</h2>
<div id="pre-processing-data" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Pre-processing Data</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-transformation.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_shooting_old)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(df_shooting_old))</span>
<span id="cb19-2"><a href="data-transformation.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_shooting_ytd)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(df_shooting_ytd))</span></code></pre></div>
<ul>
<li>Column names in the old and new data have different case, converting to a common format for merging the 2 later.</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-transformation.html#cb20-1" aria-hidden="true" tabindex="-1"></a>df_shooting_ytd<span class="sc">$</span>OCCUR_DATE <span class="ot">&lt;-</span><span class="fu">as.Date</span>(df_shooting_ytd<span class="sc">$</span>OCCUR_DATE, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)</span>
<span id="cb20-2"><a href="data-transformation.html#cb20-2" aria-hidden="true" tabindex="-1"></a>df_shooting_old<span class="sc">$</span>OCCUR_DATE <span class="ot">&lt;-</span><span class="fu">as.Date</span>(df_shooting_old<span class="sc">$</span>OCCUR_DATE, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)</span>
<span id="cb20-3"><a href="data-transformation.html#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="data-transformation.html#cb20-4" aria-hidden="true" tabindex="-1"></a>df_shooting_total<span class="ot">&lt;-</span><span class="fu">bind_rows</span>(df_shooting_ytd, df_shooting_old)</span>
<span id="cb20-5"><a href="data-transformation.html#cb20-5" aria-hidden="true" tabindex="-1"></a>df_shooting_total<span class="sc">$</span>OCCUR_DATE <span class="ot">&lt;-</span><span class="fu">as.Date</span>(df_shooting_total<span class="sc">$</span>OCCUR_DATE, <span class="at">format =</span> <span class="st">&quot;%m/%d/%Y&quot;</span>)</span></code></pre></div>
<ul>
<li>Converting the date columns in both to date class using format and then merging the 2 datasets in one.</li>
</ul>
</div>
<div id="feature-engineering" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Feature Engineering</h3>
<ul>
<li>creating more features from the existing features to help</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-transformation.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract year and month from date - #TODO: hour and dayofweek</span></span>
<span id="cb21-2"><a href="data-transformation.html#cb21-2" aria-hidden="true" tabindex="-1"></a>df_shooting_total<span class="ot">&lt;-</span>df_shooting_total <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="data-transformation.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(OCCUR_DATE), <span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(OCCUR_DATE,<span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">day =</span> lubridate<span class="sc">::</span><span class="fu">wday</span>(OCCUR_DATE,<span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-4"><a href="data-transformation.html#cb21-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">murder =</span> <span class="fu">ifelse</span>(STATISTICAL_MURDER_FLAG<span class="sc">==</span><span class="cn">TRUE</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span></code></pre></div>
<ul>
<li>Extracted year, month, day of the week and hour of shooting</li>
<li>#TODO!!!!!!!!!!!!!!!!!!!</li>
<li>Calculated Percentage change in number of shootings every month.</li>
</ul>
</div>
</div>
<div id="park-crime-data" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Park Crime Data</h2>
<p>The raw data we obtained was in the form of quarterly data from the year 2015 to 2020. In order to carry out effective analysis, we put together the individual datasets into one large .csv file.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-transformation.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb22-2"><a href="data-transformation.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb22-3"><a href="data-transformation.html#cb22-3" aria-hidden="true" tabindex="-1"></a>q1_2015_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2015.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">4</span>)</span>
<span id="cb22-4"><a href="data-transformation.html#cb22-4" aria-hidden="true" tabindex="-1"></a>q2_2015_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2015.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">4</span>)</span>
<span id="cb22-5"><a href="data-transformation.html#cb22-5" aria-hidden="true" tabindex="-1"></a>q3_2015_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2015.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">4</span>)</span>
<span id="cb22-6"><a href="data-transformation.html#cb22-6" aria-hidden="true" tabindex="-1"></a>q4_2015_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2015.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-7"><a href="data-transformation.html#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="data-transformation.html#cb22-8" aria-hidden="true" tabindex="-1"></a>q1_2016_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2016.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-9"><a href="data-transformation.html#cb22-9" aria-hidden="true" tabindex="-1"></a>q2_2016_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2016.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-10"><a href="data-transformation.html#cb22-10" aria-hidden="true" tabindex="-1"></a>q3_2016_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2016.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-11"><a href="data-transformation.html#cb22-11" aria-hidden="true" tabindex="-1"></a>q4_2016_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2016.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-12"><a href="data-transformation.html#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="data-transformation.html#cb22-13" aria-hidden="true" tabindex="-1"></a>q1_2017_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2017.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-14"><a href="data-transformation.html#cb22-14" aria-hidden="true" tabindex="-1"></a>q2_2017_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2017.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-15"><a href="data-transformation.html#cb22-15" aria-hidden="true" tabindex="-1"></a>q3_2017_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2017.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-16"><a href="data-transformation.html#cb22-16" aria-hidden="true" tabindex="-1"></a>q4_2017_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2017.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-17"><a href="data-transformation.html#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="data-transformation.html#cb22-18" aria-hidden="true" tabindex="-1"></a>q1_2018_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2018.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-19"><a href="data-transformation.html#cb22-19" aria-hidden="true" tabindex="-1"></a>q2_2018_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2018.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">4</span>)</span>
<span id="cb22-20"><a href="data-transformation.html#cb22-20" aria-hidden="true" tabindex="-1"></a>q3_2018_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2018.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-21"><a href="data-transformation.html#cb22-21" aria-hidden="true" tabindex="-1"></a>q4_2018_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2018.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-22"><a href="data-transformation.html#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="data-transformation.html#cb22-23" aria-hidden="true" tabindex="-1"></a>q1_2019_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-24"><a href="data-transformation.html#cb22-24" aria-hidden="true" tabindex="-1"></a>q2_2019_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-25"><a href="data-transformation.html#cb22-25" aria-hidden="true" tabindex="-1"></a>q3_2019_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-26"><a href="data-transformation.html#cb22-26" aria-hidden="true" tabindex="-1"></a>q4_2019_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-27"><a href="data-transformation.html#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="data-transformation.html#cb22-28" aria-hidden="true" tabindex="-1"></a>q1_2020_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q1-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-29"><a href="data-transformation.html#cb22-29" aria-hidden="true" tabindex="-1"></a>q2_2020_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q2-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-30"><a href="data-transformation.html#cb22-30" aria-hidden="true" tabindex="-1"></a>q3_2020_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q3-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-31"><a href="data-transformation.html#cb22-31" aria-hidden="true" tabindex="-1"></a>q4_2020_park <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">&#39;datasets/parks/nyc-park-crime-stats-q4-2019.xlsx&#39;</span>, <span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb22-32"><a href="data-transformation.html#cb22-32" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(q1_2020_park)</span>
<span id="cb22-33"><a href="data-transformation.html#cb22-33" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(q2_2020_park)</span>
<span id="cb22-34"><a href="data-transformation.html#cb22-34" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(q3_2020_park)</span>
<span id="cb22-35"><a href="data-transformation.html#cb22-35" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(q4_2020_park)</span></code></pre></div>
<p>Data has been read in and has to be converted to a large dataset, as a concatenation of the rows along with a quarter and year column.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-transformation.html#cb23-1" aria-hidden="true" tabindex="-1"></a>q1_2015_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2015</span>, <span class="fu">nrow</span>(q1_2015_park)))</span>
<span id="cb23-2"><a href="data-transformation.html#cb23-2" aria-hidden="true" tabindex="-1"></a>q1_2016_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2016</span>, <span class="fu">nrow</span>(q1_2016_park)))</span>
<span id="cb23-3"><a href="data-transformation.html#cb23-3" aria-hidden="true" tabindex="-1"></a>q1_2017_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2017</span>, <span class="fu">nrow</span>(q1_2017_park)))</span>
<span id="cb23-4"><a href="data-transformation.html#cb23-4" aria-hidden="true" tabindex="-1"></a>q1_2018_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2018</span>, <span class="fu">nrow</span>(q1_2018_park)))</span>
<span id="cb23-5"><a href="data-transformation.html#cb23-5" aria-hidden="true" tabindex="-1"></a>q1_2019_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2019</span>, <span class="fu">nrow</span>(q1_2019_park)))</span>
<span id="cb23-6"><a href="data-transformation.html#cb23-6" aria-hidden="true" tabindex="-1"></a>q1_2020_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2020</span>, <span class="fu">nrow</span>(q1_2020_park)))</span>
<span id="cb23-7"><a href="data-transformation.html#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="data-transformation.html#cb23-8" aria-hidden="true" tabindex="-1"></a>q2_2015_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2015</span>, <span class="fu">nrow</span>(q2_2015_park)))</span>
<span id="cb23-9"><a href="data-transformation.html#cb23-9" aria-hidden="true" tabindex="-1"></a>q2_2016_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2016</span>, <span class="fu">nrow</span>(q2_2016_park)))</span>
<span id="cb23-10"><a href="data-transformation.html#cb23-10" aria-hidden="true" tabindex="-1"></a>q2_2017_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2017</span>, <span class="fu">nrow</span>(q2_2017_park)))</span>
<span id="cb23-11"><a href="data-transformation.html#cb23-11" aria-hidden="true" tabindex="-1"></a>q2_2018_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2018</span>, <span class="fu">nrow</span>(q2_2018_park)))</span>
<span id="cb23-12"><a href="data-transformation.html#cb23-12" aria-hidden="true" tabindex="-1"></a>q2_2019_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2019</span>, <span class="fu">nrow</span>(q2_2019_park)))</span>
<span id="cb23-13"><a href="data-transformation.html#cb23-13" aria-hidden="true" tabindex="-1"></a>q2_2020_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2020</span>, <span class="fu">nrow</span>(q2_2020_park)))</span>
<span id="cb23-14"><a href="data-transformation.html#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="data-transformation.html#cb23-15" aria-hidden="true" tabindex="-1"></a>q3_2015_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2015</span>, <span class="fu">nrow</span>(q3_2015_park)))</span>
<span id="cb23-16"><a href="data-transformation.html#cb23-16" aria-hidden="true" tabindex="-1"></a>q3_2016_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2016</span>, <span class="fu">nrow</span>(q3_2016_park)))</span>
<span id="cb23-17"><a href="data-transformation.html#cb23-17" aria-hidden="true" tabindex="-1"></a>q3_2017_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2017</span>, <span class="fu">nrow</span>(q3_2017_park)))</span>
<span id="cb23-18"><a href="data-transformation.html#cb23-18" aria-hidden="true" tabindex="-1"></a>q3_2018_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2018</span>, <span class="fu">nrow</span>(q3_2018_park)))</span>
<span id="cb23-19"><a href="data-transformation.html#cb23-19" aria-hidden="true" tabindex="-1"></a>q3_2019_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2019</span>, <span class="fu">nrow</span>(q3_2019_park)))</span>
<span id="cb23-20"><a href="data-transformation.html#cb23-20" aria-hidden="true" tabindex="-1"></a>q3_2020_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2020</span>, <span class="fu">nrow</span>(q3_2020_park)))</span>
<span id="cb23-21"><a href="data-transformation.html#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="data-transformation.html#cb23-22" aria-hidden="true" tabindex="-1"></a>q4_2015_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2015</span>, <span class="fu">nrow</span>(q4_2015_park)))</span>
<span id="cb23-23"><a href="data-transformation.html#cb23-23" aria-hidden="true" tabindex="-1"></a>q4_2016_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2016</span>, <span class="fu">nrow</span>(q4_2016_park)))</span>
<span id="cb23-24"><a href="data-transformation.html#cb23-24" aria-hidden="true" tabindex="-1"></a>q4_2017_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2017</span>, <span class="fu">nrow</span>(q4_2017_park)))</span>
<span id="cb23-25"><a href="data-transformation.html#cb23-25" aria-hidden="true" tabindex="-1"></a>q4_2018_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2018</span>, <span class="fu">nrow</span>(q4_2018_park)))</span>
<span id="cb23-26"><a href="data-transformation.html#cb23-26" aria-hidden="true" tabindex="-1"></a>q4_2019_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2019</span>, <span class="fu">nrow</span>(q4_2019_park)))</span>
<span id="cb23-27"><a href="data-transformation.html#cb23-27" aria-hidden="true" tabindex="-1"></a>q4_2020_park<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">2020</span>, <span class="fu">nrow</span>(q4_2020_park)))</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-transformation.html#cb24-1" aria-hidden="true" tabindex="-1"></a>q1_2015_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2015_park)))</span>
<span id="cb24-2"><a href="data-transformation.html#cb24-2" aria-hidden="true" tabindex="-1"></a>q1_2016_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2016_park)))</span>
<span id="cb24-3"><a href="data-transformation.html#cb24-3" aria-hidden="true" tabindex="-1"></a>q1_2017_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2017_park)))</span>
<span id="cb24-4"><a href="data-transformation.html#cb24-4" aria-hidden="true" tabindex="-1"></a>q1_2018_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2018_park)))</span>
<span id="cb24-5"><a href="data-transformation.html#cb24-5" aria-hidden="true" tabindex="-1"></a>q1_2019_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2019_park)))</span>
<span id="cb24-6"><a href="data-transformation.html#cb24-6" aria-hidden="true" tabindex="-1"></a>q1_2020_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q1&#39;</span>, <span class="fu">nrow</span>(q1_2020_park)))</span>
<span id="cb24-7"><a href="data-transformation.html#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="data-transformation.html#cb24-8" aria-hidden="true" tabindex="-1"></a>q2_2015_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2015_park)))</span>
<span id="cb24-9"><a href="data-transformation.html#cb24-9" aria-hidden="true" tabindex="-1"></a>q2_2016_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2016_park)))</span>
<span id="cb24-10"><a href="data-transformation.html#cb24-10" aria-hidden="true" tabindex="-1"></a>q2_2017_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2017_park)))</span>
<span id="cb24-11"><a href="data-transformation.html#cb24-11" aria-hidden="true" tabindex="-1"></a>q2_2018_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2018_park)))</span>
<span id="cb24-12"><a href="data-transformation.html#cb24-12" aria-hidden="true" tabindex="-1"></a>q2_2019_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2019_park)))</span>
<span id="cb24-13"><a href="data-transformation.html#cb24-13" aria-hidden="true" tabindex="-1"></a>q2_2020_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q2&#39;</span>, <span class="fu">nrow</span>(q2_2020_park)))</span>
<span id="cb24-14"><a href="data-transformation.html#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="data-transformation.html#cb24-15" aria-hidden="true" tabindex="-1"></a>q3_2015_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2015_park)))</span>
<span id="cb24-16"><a href="data-transformation.html#cb24-16" aria-hidden="true" tabindex="-1"></a>q3_2016_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2016_park)))</span>
<span id="cb24-17"><a href="data-transformation.html#cb24-17" aria-hidden="true" tabindex="-1"></a>q3_2017_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2017_park)))</span>
<span id="cb24-18"><a href="data-transformation.html#cb24-18" aria-hidden="true" tabindex="-1"></a>q3_2018_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2018_park)))</span>
<span id="cb24-19"><a href="data-transformation.html#cb24-19" aria-hidden="true" tabindex="-1"></a>q3_2019_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2019_park)))</span>
<span id="cb24-20"><a href="data-transformation.html#cb24-20" aria-hidden="true" tabindex="-1"></a>q3_2020_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q3&#39;</span>, <span class="fu">nrow</span>(q3_2020_park)))</span>
<span id="cb24-21"><a href="data-transformation.html#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="data-transformation.html#cb24-22" aria-hidden="true" tabindex="-1"></a>q4_2015_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2015_park)))</span>
<span id="cb24-23"><a href="data-transformation.html#cb24-23" aria-hidden="true" tabindex="-1"></a>q4_2016_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2016_park)))</span>
<span id="cb24-24"><a href="data-transformation.html#cb24-24" aria-hidden="true" tabindex="-1"></a>q4_2017_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2017_park)))</span>
<span id="cb24-25"><a href="data-transformation.html#cb24-25" aria-hidden="true" tabindex="-1"></a>q4_2018_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2018_park)))</span>
<span id="cb24-26"><a href="data-transformation.html#cb24-26" aria-hidden="true" tabindex="-1"></a>q4_2019_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2019_park)))</span>
<span id="cb24-27"><a href="data-transformation.html#cb24-27" aria-hidden="true" tabindex="-1"></a>q4_2020_park<span class="sc">$</span>quarter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;q4&#39;</span>, <span class="fu">nrow</span>(q4_2020_park)))</span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-transformation.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2015_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2015_park))</span>
<span id="cb25-2"><a href="data-transformation.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2015_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2015_park))</span>
<span id="cb25-3"><a href="data-transformation.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2015_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2015_park))</span>
<span id="cb25-4"><a href="data-transformation.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2015_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2015_park))</span>
<span id="cb25-5"><a href="data-transformation.html#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="data-transformation.html#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2016_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2016_park))</span>
<span id="cb25-7"><a href="data-transformation.html#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2016_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2016_park))</span>
<span id="cb25-8"><a href="data-transformation.html#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2016_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2016_park))</span>
<span id="cb25-9"><a href="data-transformation.html#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2016_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2016_park))</span>
<span id="cb25-10"><a href="data-transformation.html#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="data-transformation.html#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2017_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2017_park))</span>
<span id="cb25-12"><a href="data-transformation.html#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2017_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2017_park))</span>
<span id="cb25-13"><a href="data-transformation.html#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2017_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2017_park))</span>
<span id="cb25-14"><a href="data-transformation.html#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2017_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2017_park))</span>
<span id="cb25-15"><a href="data-transformation.html#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="data-transformation.html#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2018_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2018_park))</span>
<span id="cb25-17"><a href="data-transformation.html#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2018_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2018_park))</span>
<span id="cb25-18"><a href="data-transformation.html#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2018_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2018_park))</span>
<span id="cb25-19"><a href="data-transformation.html#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2018_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2018_park))</span>
<span id="cb25-20"><a href="data-transformation.html#cb25-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-21"><a href="data-transformation.html#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2019_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2019_park))</span>
<span id="cb25-22"><a href="data-transformation.html#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2019_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2019_park))</span>
<span id="cb25-23"><a href="data-transformation.html#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2019_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2019_park))</span>
<span id="cb25-24"><a href="data-transformation.html#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2019_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2019_park))</span>
<span id="cb25-25"><a href="data-transformation.html#cb25-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-26"><a href="data-transformation.html#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q1_2020_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q1_2020_park))</span>
<span id="cb25-27"><a href="data-transformation.html#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q2_2020_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q2_2020_park))</span>
<span id="cb25-28"><a href="data-transformation.html#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q3_2020_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q3_2020_park))</span>
<span id="cb25-29"><a href="data-transformation.html#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(q4_2020_park)<span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">colnames</span>(q4_2020_park))</span></code></pre></div>
<p>Putting the dataframes together</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-transformation.html#cb26-1" aria-hidden="true" tabindex="-1"></a>park_data <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;rbind&quot;</span>, <span class="fu">list</span>(q1_2015_park, q2_2015_park ,q3_2015_park, q4_2015_park, q1_2016_park,q2_2016_park, q3_2016_park, q4_2016_park, q1_2017_park, q2_2017_park, q3_2017_park, q4_2017_park, q1_2018_park, q2_2018_park, q3_2018_park, q4_2018_park, q1_2019_park, q2_2019_park, q3_2019_park, q4_2019_park, q1_2020_park, q2_2020_park, q3_2020_park, q4_2020_park))</span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-transformation.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb27-2"><a href="data-transformation.html#cb27-2" aria-hidden="true" tabindex="-1"></a>park_data <span class="ot">&lt;-</span> park_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(PARK <span class="sc">!=</span> <span class="st">&#39;TOTAL&#39;</span>)</span></code></pre></div>
<p>Creating new csv file for output.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-transformation.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(park_data, <span class="st">&#39;./datasets/parks/finalpark.csv&#39;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Testing Dataset - Sanity Checks</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-transformation.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(park_data)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/shauryamalik/CrimesAnalysis/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/shauryamalik/CrimesAnalysis/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
